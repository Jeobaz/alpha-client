(function(e){function t(t){for(var i,s,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},n={app:0},r=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=(a("d3b7"),a("bc3a")),r=a.n(n),s={baseURL:"http://127.0.0.1:3333/api/"},o=r.a.create(s);o.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e,t){e.axios=o,window.axios=o,Object.defineProperties(e.prototype,{axios:{get:function(){return o}},$axios:{get:function(){return o}}})},i["a"].use(Plugin);Plugin;var c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"keep"}},[a("v-app-bar",{attrs:{app:"","clipped-left":"",color:"primary",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),a("span",{staticClass:"title ml-3 mr-5"},[e._v("Alpha-optica "),a("span",{staticClass:"font-weight-light"},[e._v(" / панель управления")])]),a("v-spacer")],1),a("v-navigation-drawer",{attrs:{app:"",clipped:"",color:"grey lighten-4"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[e.loggedIn?e._e():a("v-list-item",{attrs:{link:"",to:"/login"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-login-variant")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Авторизация")])],1)],1),e.loggedIn?a("v-list-item",{attrs:{link:"",to:"/"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-alarm-check")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Главная")])],1)],1):e._e(),e.loggedIn?a("v-list-item",{attrs:{link:"",to:"/client"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-account-supervisor-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Клиенты")])],1)],1):e._e(),e.loggedIn?a("v-list-item",{attrs:{link:"",to:"/reminder"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-clipboard-list-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Напоминания")])],1)],1):e._e(),e.loggedIn?a("v-list-item",{attrs:{link:""},on:{click:e.logout}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-logout-variant")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Выйти")])],1)],1):e._e()],1)],1),a("v-main",[a("router-view")],1)],1)},l=[],d={name:"App",components:{},props:{source:String},data:function(){return{drawer:null,content:"",links:[{needLogin:!1,icon:"mdi-login-variant",url:"/login",title:"Login"},{needLogin:!1,icon:"mdi-account-plus-outline",url:"/register",title:"Register"},{needLogin:!0,icon:"mdi-account-outline",url:"/profile",title:"Profile"},{needLogin:!0,icon:"mdi-clipboard-list-outline",url:"/reminder",title:"Напоминания"}]}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},methods:{logout:function(){this.$store.dispatch("auth/logout",null,{root:!0}),this.$router.push("/login")}}},u=d,m=a("2877"),f=a("6544"),v=a.n(f),p=a("7496"),h=a("40dc"),g=a("5bc1"),b=a("132d"),_=a("8860"),y=a("da13"),I=a("1800"),x=a("5d23"),V=a("f6c4"),k=a("f774"),w=a("2fa4"),C=Object(m["a"])(u,c,l,!1,null,null,null),O=C.exports;v()(C,{VApp:p["a"],VAppBar:h["a"],VAppBarNavIcon:g["a"],VIcon:b["a"],VList:_["a"],VListItem:y["a"],VListItemAction:I["a"],VListItemContent:x["a"],VListItemTitle:x["c"],VMain:V["a"],VNavigationDrawer:k["a"],VSpacer:w["a"]});a("45fc");var j=a("8c4f"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"full-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},e._l(this.todays,(function(t){return a("v-col",{key:t.id,staticClass:"col-xs-12",attrs:{sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",tile:"",elevation:"1"}},[a("v-list-item",{attrs:{"four-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline"},[e._v(" "+e._s(t.date_of_remind)+" ")]),a("v-list-item-title",{staticClass:"headline mb-2"},[e._v(e._s(t.phone))]),a("v-list-item-title",{staticClass:"headline mb-2"},[e._v(e._s(t.name))]),a("div",{staticClass:"text--secondary"},[e._v(" "+e._s(t.description)+" ")])],1)],1),a("v-card-actions",[a("v-row",[a("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12"}},[a("v-btn",{attrs:{text:"",color:"green"},on:{click:function(a){return e.deleteItem(t.id)}}},[e._v("Прочитано")])],1)],1)],1)],1)],1)})),1)],1)},D=[],$=(a("99af"),a("4de4"),a("c975"),a("ac1f"),a("1276"),a("3835")),R=a("5530"),P=a("7bb1"),Y=a("4c93"),A=a("5a0c"),T=a.n(A),q=a("f906"),M=a.n(q),N=a("8f19"),L=a.n(N);T.a.extend(L.a),T.a.extend(M.a),Object.defineProperties(i["a"].prototype,{$date:{get:function(){return T.a}}});var F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-alert",{attrs:{type:e.type}},[e._v(" "+e._s(e.message)+" ")])],1)},z=[],B={name:"Notification",props:{message:{type:String,required:!0},type:{type:String,required:!0}}},E=B,U=a("0798"),J=Object(m["a"])(E,F,z,!1,null,null,null),H=J.exports;v()(J,{VAlert:U["a"]}),Object(P["c"])("required",Object(R["a"])(Object(R["a"])({},Y["c"]),{},{message:"Поле {_field_} не может быть пустым"}));var Z={name:"Home",components:{Notification:H,ValidationProvider:P["b"],ValidationObserver:P["a"]},data:function(){return{notification:{message:"",type:""},reminders:[],todays:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"Новая запись":"Изменить запись"},allReminders:function(){return this.$store.state.reminder.reminder}},created:function(){this.initialize()},methods:{initialize:function(){this.getAllRecords(),this.reminders=this.allReminders,this.getTodaysRecords()},getAllRecords:function(){var e=this;this.$store.dispatch("reminder/getAllRecords").then((function(e){}),(function(t){var a={message:t.response.data.message,type:t.response.data.status};e.notification=Object.assign({},e.notification,{message:a.message,type:a.type})}))},getTodaysRecords:function(){var e=this.$date().format("DD/MM/YYYY");this.todays=this.reminders.filter((function(t){return t.date_of_remind==e}))},editItem:function(e){this.editedIndex=this.reminders.indexOf(e),this.editedItem=Object.assign({},e);var t=this.editedItem.date_of_remind.split("/"),a=Object($["a"])(t,3),i=a[0],n=a[1],r=a[2];this.editedItem.date="".concat(r,"-").concat(n,"-").concat(i),this.editedItem.dateFormatted=this.parseDate(this.editedItem.date)},deleteItem:function(e){var t=this,a=this.todays.filter((function(t){return t.id==e}))[0],i=this.reminders.indexOf(a),n={indexDB:e,indexState:i};confirm("Запись обработана и ее можно удалить?")&&this.$store.dispatch("reminder/deleteReminder",n).then((function(e){t.initialize()}),(function(e){var a={message:e.response.data.message,type:e.response.data.status};t.notification=Object.assign({},t.notification,{message:a.message,type:a.type})}))}}},G=Z,K=a("8336"),Q=a("b0af"),W=a("99d9"),X=a("62ad"),ee=a("a523"),te=a("0fd9"),ae=Object(m["a"])(G,S,D,!1,null,null,null),ie=ae.exports;v()(ae,{VBtn:K["a"],VCard:Q["a"],VCardActions:W["a"],VCol:X["a"],VContainer:ee["a"],VListItem:y["a"],VListItemContent:x["a"],VListItemTitle:x["c"],VRow:te["a"]});var ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"3"}}),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[e.notification.message?a("Notification",{attrs:{message:e.notification.message,type:e.notification.type}}):e._e()],1),a("v-col",{attrs:{cols:"3"}}),a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("ValidationObserver",{ref:"form",attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.invalid,n=t.validated,r=t.handleSubmit;return[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Авторизация")]),a("v-spacer")],1),a("v-card-text",[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{name:"email","error-messages":i,success:n,required:"",label:"Email","prepend-icon":"mdi-email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"пароль",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{name:"пароль","error-messages":i,success:n,label:"Пароль",required:"","prepend-icon":"mdi-lock",type:"password"},on:{"click:append":function(t){e.showp,e.showp}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})]}}],null,!0)})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:i||!n},on:{click:function(t){return r(e.login)}}},[e._v("Войти "),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-key")])],1)],1),a("v-col",{staticClass:"px-16"},[a("v-divider")],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-body text-center"},[e._v(" Еще не зарегистрированы? "),a("router-link",{attrs:{to:"/register"}},[e._v("Регистрация")])],1)])],1)]}}])})],1)],1)],1)},re=[],se=a("d4ec"),oe=function e(t,a,i){Object(se["a"])(this,e),this.username=t,this.email=a,this.password=i};Object(P["d"])("lazy"),Object(P["c"])("email",Object(R["a"])(Object(R["a"])({},Y["b"]),{},{message:"Введите корректный email"})),Object(P["c"])("required",Object(R["a"])(Object(R["a"])({},Y["c"]),{},{message:"{_field_} не может быть пустым"}));var ce={name:"Login",components:{Notification:H,ValidationProvider:P["b"],ValidationObserver:P["a"]},props:{source:String},data:function(){return{user:new oe("",""),notification:{message:"",type:""}}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},watch:{user:{deep:!0,handler:function(){this.$refs.form&&this.$refs.form.validate()}}},created:function(){this.loggedIn&&this.$router.push("/")},methods:{login:function(){var e=this;this.user.email&&this.user.password&&this.$store.dispatch("auth/login",this.user).then((function(){e.$router.push("/")}),(function(t){e.notification=Object.assign({},e.notification,{message:t.response.data.message,type:t.response.data.status})}))}}},le=ce,de=a("ce7e"),ue=a("4bd4"),me=a("8654"),fe=a("71d9"),ve=a("2a7f"),pe=Object(m["a"])(le,ne,re,!1,null,null,null),he=pe.exports;v()(pe,{VBtn:K["a"],VCard:Q["a"],VCardActions:W["a"],VCardText:W["b"],VCol:X["a"],VContainer:ee["a"],VDivider:de["a"],VForm:ue["a"],VIcon:b["a"],VRow:te["a"],VSpacer:w["a"],VTextField:me["a"],VToolbar:fe["a"],VToolbarTitle:ve["a"]});var ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"3"}}),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[e.notification.message?a("Notification",{attrs:{message:e.notification.message,type:e.notification.type}}):e._e()],1),a("v-col",{attrs:{cols:"3"}}),a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("ValidationObserver",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var i=t.invalid,n=t.validated,r=t.handleSubmit;return[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[e._v("Регистрация")]),a("v-spacer")],1),a("v-card-text",[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[a("ValidationProvider",{attrs:{name:"Name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{name:"username","error-messages":i,success:n,required:"",counter:"",label:"Username","prepend-icon":"mdi-account"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{name:"email","error-messages":i,success:n,required:"",label:"Email","prepend-icon":"mdi-email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{name:"password","error-messages":i,success:n,label:"Пароль",required:"","prepend-icon":"mdi-lock",type:"password"},on:{"click:append":function(t){e.showp,e.showp}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"confirm",rules:"required|confirmed:password"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{name:"confirm","error-messages":i,success:n,label:"Повторите пароль",required:"","prepend-icon":"mdi-lock",type:"password"},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}})]}}],null,!0)})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:i||!n},on:{click:function(t){return r(e.register)}}},[e._v("Регистрация "),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-key")])],1)],1),a("v-col",{staticClass:"px-16"},[a("v-divider")],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-body text-center"},[e._v(" Уже зарегистрированы? "),a("router-link",{attrs:{to:"/login"}},[e._v("Авторизация")])],1)])],1)]}}])})],1)],1)],1)},be=[],_e=(a("96cf"),a("1da1"));Object(P["d"])("eager"),Object(P["c"])("required",Object(R["a"])(Object(R["a"])({},Y["c"]),{},{message:'Поле "{_field_}" не может быть пустым'})),Object(P["c"])("email",Object(R["a"])(Object(R["a"])({},Y["b"]),{},{message:"Введите корректный email"})),Object(P["c"])("confirmed",Object(R["a"])(Object(R["a"])({},Y["a"]),{},{message:"This field confirmation does not match"}));var ye={name:"RegisterForm",components:{Notification:H,ValidationProvider:P["b"],ValidationObserver:P["a"]},props:{source:String},data:function(){return{user:new oe("","",""),confirm:"",notification:{message:"",type:""}}},computed:{loggedIn:function(){return this.$store.state.auth.status.loggedIn}},mounted:function(){this.loggedIn&&this.$router.push("/")},methods:{register:function(){var e=this;return Object(_e["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("auth/register",e.user).then((function(){e.$router.push("/")}),(function(t){var a={message:t.response.data.message,type:t.response.data.status};e.notification=Object.assign({},e.notification,{message:a.message,type:a.type})}));case 1:case"end":return t.stop()}}),t)})))()}}},Ie=ye,xe=Object(m["a"])(Ie,ge,be,!1,null,null,null),Ve=xe.exports;v()(xe,{VBtn:K["a"],VCard:Q["a"],VCardActions:W["a"],VCardText:W["b"],VCol:X["a"],VContainer:ee["a"],VDivider:de["a"],VForm:ue["a"],VIcon:b["a"],VRow:te["a"],VSpacer:w["a"],VTextField:me["a"],VToolbar:fe["a"],VToolbarTitle:ve["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[e.notification.message?a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"3"}}),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[a("Notification",{attrs:{message:e.notification.message,type:e.notification.type}})],1),a("v-col",{attrs:{cols:"3"}})],1):e._e(),a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344",outlined:""}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline mb-4"},[e._v("Personal Infromation")]),a("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(e.currentUser.email))]),a("v-list-item-subtitle",[e._v(e._s(e.currentUser.username))])],1)],1)],1)],1)},we=[],Ce={name:"Profile",components:{Notification:H},data:function(){return{notification:{message:"",type:""}}},computed:{currentUser:function(){return this.$store.state.auth.userData}},created:function(){this.fetchAuthenticatedUser()},methods:{fetchAuthenticatedUser:function(){var e=this;this.$store.dispatch("auth/getUserData").then((function(e){}),(function(t){var a={message:t.response.data.message,type:t.response.data.status};e.notification=Object.assign({},e.notification,{message:a.message,type:a.type})}))}}},Oe=Ce,je=Object(m["a"])(Oe,ke,we,!1,null,null,null),Se=je.exports;v()(je,{VCard:Q["a"],VCol:X["a"],VContainer:ee["a"],VListItem:y["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VRow:te["a"]});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"full-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"3"}}),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[e.notification.message?a("Notification",{attrs:{message:e.notification.message,type:e.notification.type}}):e._e()],1),a("v-col",{attrs:{cols:"3"}})],1),a("v-card",{attrs:{elevation:"1"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.reminders,"sort-by":"date_of_remind","custom-sort":e.customSort},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Напоминания")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-dialog",{attrs:{"max-width":"800px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[e._v("Новое напоминание")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("ValidationObserver",{ref:"form",attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.invalid,n=t.validated,r=t.handleSubmit;return[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("ValidationProvider",{attrs:{rules:"required",name:"client"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-autocomplete",{attrs:{items:e.clientNames,name:"client",label:"Клиент",required:"","return-object":"","error-messages":i,success:n},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})]}}],null,!0)})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("ValidationProvider",{attrs:{rules:"required",name:"Описание"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{label:"Описание",name:"Описание",required:"","error-messages":i,success:n},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})]}}],null,!0)})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("ValidationProvider",{attrs:{rules:"required",name:"Количество дней"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-select",{attrs:{"error-messages":i,success:n,items:e.days,value:e.days[0],"item-text":e.days.value,"item-value":e.days.text,label:"Количество дней"},on:{input:function(t){return e.parseDate(e.editedItem.date)}},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}})]}}],null,!0)})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Отменить")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:i||!n},on:{click:function(t){return r(e.save)}}},[e._v("Сохранить")])],1)],1)],1)]}}])})],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Сброс")])]},proxy:!0}])})],1)],1)},$e=[];a("a4d3"),a("e01a"),a("d81d"),a("b0c0"),a("4d90");Object(P["c"])("required",Object(R["a"])(Object(R["a"])({},Y["c"]),{},{message:"Поле {_field_} не может быть пустым"}));var Re={name:"Reminder",components:{Notification:H,ValidationProvider:P["b"],ValidationObserver:P["a"]},data:function(){return{notification:{message:"",type:""},dialog:!1,menu:!1,headers:[{text:"Клиент",align:"start",sortable:!0,value:"name"},{text:"Телефон",value:"phone",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Описание",value:"description",sortable:!1},{text:"Дата напоминания",type:"date",value:"date_of_remind"},{text:"Действия",value:"actions",sortable:!1}],days:[{text:"2 недели",value:0},{text:"Месяц",value:0},{text:"3 месяца",value:1}],dates:["2020-11-21"],reminders:[],clients:[],clientNames:[],editedIndex:-1,editedItem:{name:null,description:"",date_of_remind:null,date:null},defaultItem:{name:null,description:"",date_of_remind:null,date:null}}},computed:{formTitle:function(){return-1===this.editedIndex?"Новая запись":"Изменить запись"},allReminders:function(){return this.$store.state.reminder.reminder},allClients:function(){return this.$store.state.client.client}},watch:{dialog:function(e){e||this.close()},editedItem:{deep:!0,handler:function(){this.$refs.form&&this.$refs.form.validate()}}},created:function(){this.initialize(),this.setDates()},methods:{initialize:function(){var e=this;this.getAllRecords((function(){})),this.getAllClients((function(){e.clients=e.allClients,e.clientNames=e.clients.map((function(e){return e.name})),e.reminders=e.allReminders}))},setDates:function(){this.days[0].value=this.$date().add(2,"week").format("YYYY-MM-DD"),this.days[1].value=this.$date().add(1,"month").format("YYYY-MM-DD"),this.days[2].value=this.$date().add(3,"month").format("YYYY-MM-DD")},parseDate:function(e){if(!e)return null;var t=e.split("-"),a=Object($["a"])(t,3),i=a[0],n=a[1],r=a[2];return this.editedItem.date_of_remind="".concat(r.padStart(2,"0"),"/").concat(n.padStart(2,"0"),"/").concat(i),"".concat(r.padStart(2,"0"),"/").concat(n.padStart(2,"0"),"/").concat(i)},customSort:function(e,t,a){var i=this;return e.sort((function(e,n){return"date_of_remind"==t[0]?a[0]?i.$date(e[t],"DD/MM/YYYY").toDate()-i.$date(n[t],"DD/MM/YYYY").toDate():i.$date(n[t],"DD/MM/YYYY")-i.$date(e[t],"DD/MM/YYYY").toDate():"undefined"!==typeof e[t]?a[0]?n[t].toLowerCase().localeCompare(e[t].toLowerCase()):e[t].toLowerCase().localeCompare(n[t].toLowerCase()):void 0})),e},getAllRecords:function(e){var t=this;this.$store.dispatch("reminder/getAllRecords").then((function(t){e()}),(function(e){var a={message:e.response.data.message,type:e.response.data.status};t.notification=Object.assign({},t.notification,{message:a.message,type:a.type})}))},getAllClients:function(e){var t=this;this.$store.dispatch("client/getAllRecords").then((function(t){e()}),(function(e){var a={message:e.response.data.message,type:e.response.data.status};t.notification=Object.assign({},t.notification,{message:a.message,type:a.type})}))},editItem:function(e){this.editedIndex=this.reminders.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0,this.editedItem.date=this.days[0].value},deleteItem:function(e){var t=this,a=this.reminders.indexOf(e),i={indexDB:e.id,indexState:a};confirm("Вы точно желаете удалить эту запись?")&&this.$store.dispatch("reminder/deleteReminder",i).then((function(e){t.initialize()}),(function(e){var a={message:e.response.data.message,type:e.response.data.status};t.notification=Object.assign({},t.notification,{message:a.message,type:a.type})}))},save:function(){var e=this;if(this.editedIndex>-1){var t={indexDB:this.editedItem.id,indexState:this.editedIndex},a={id:this.editedItem.id,client_id:this.editedItem.client_id,description:this.editedItem.description,date_of_remind:this.editedItem.date,date_of_birth:this.editedItem.date_of_birth,email:this.editedItem.email,name:this.editedItem.name,phone:this.editedItem.phone,date_of_remind_state:this.editedItem.date_of_remind},i={indexes:t,remindInfo:a};confirm("Указанные данные введены корректно?")&&this.$store.dispatch("reminder/updateReminderInfo",i).then((function(t){e.initialize()}),(function(t){var a={message:t.response.data.message,type:t.response.data.status};e.notification=Object.assign({},e.notification,{message:a.message,type:a.type})}))}else{var n=this.clients.filter((function(t){return t.name==e.editedItem.name})),r={client_id:n[0].id,date_of_birth:n[0].date_of_birth,email:n[0].email,name:n[0].name,phone:n[0].phone,description:this.editedItem.description,date_of_remind:this.editedItem.date};confirm("Указанные данные введены корректно?")&&this.$store.dispatch("reminder/createNewRemind",r).then((function(t){e.notification=Object.assign({},e.notification,{message:t.message,type:t.status}),e.initialize()}),(function(t){var a={message:t.response.data.message,type:t.response.data.status};e.notification=Object.assign({},e.notification,{message:a.message,type:a.type}),e.initialize()}))}this.close()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))}}},Pe=Re,Ye=a("c6a6"),Ae=a("8fea"),Te=a("169a"),qe=a("b974"),Me=Object(m["a"])(Pe,De,$e,!1,null,null,null),Ne=Me.exports;v()(Me,{VAutocomplete:Ye["a"],VBtn:K["a"],VCard:Q["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCol:X["a"],VContainer:ee["a"],VDataTable:Ae["a"],VDialog:Te["a"],VDivider:de["a"],VForm:ue["a"],VIcon:b["a"],VRow:te["a"],VSelect:qe["a"],VSpacer:w["a"],VTextField:me["a"],VToolbar:fe["a"],VToolbarTitle:ve["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"full-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"3"}}),a("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[e.notification.message?a("Notification",{attrs:{message:e.notification.message,type:e.notification.type}}):e._e()],1),a("v-col",{attrs:{cols:"3"}})],1),a("v-card",{attrs:{elevation:"1"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.clients,"sort-by":"date","custom-sort":e.customSort},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Клиенты")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-dialog",{attrs:{"max-width":"800px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[e._v("Новый клиент")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("ValidationObserver",{ref:"form",attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.invalid,n=t.validated,r=t.handleSubmit;return[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("ValidationProvider",{attrs:{name:"Клиент",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{name:"Клиент",label:"Клиент",required:"","error-messages":i,success:n},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})]}}],null,!0)})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("ValidationProvider",{attrs:{rules:"required",name:"Email"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{label:"Email",name:"Email",required:"","error-messages":i,success:n},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})]}}],null,!0)})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("ValidationProvider",{attrs:{rules:"required",name:"Телефон"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,n=t.valid;return[a("v-text-field",{attrs:{label:"Телефон",name:"Телефон",required:"","error-messages":i,success:n},model:{value:e.editedItem.phone,callback:function(t){e.$set(e.editedItem,"phone",t)},expression:"editedItem.phone"}})]}}],null,!0)})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Дата рождения","persistent-hint":"",readonly:"",success:""},model:{value:e.editedItem.dateFormatted,callback:function(t){e.$set(e.editedItem,"dateFormatted",t)},expression:"editedItem.dateFormatted"}},"v-text-field",n,!1),i))]}}],null,!0),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",locale:"ru-RU"},on:{input:function(t){e.menu=!1,e.editedItem.dateFormatted=e.parseDate(e.editedItem.date)}},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Отменить")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:i||!n},on:{click:function(t){return r(e.save)}}},[e._v("Сохранить")])],1)],1)],1)]}}])})],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Сброс")])]},proxy:!0}])})],1)],1)},Fe=[];Object(P["c"])("required",Object(R["a"])(Object(R["a"])({},Y["c"]),{},{message:"Поле {_field_} не может быть пустым"}));var ze={name:"Client",components:{Notification:H,ValidationProvider:P["b"],ValidationObserver:P["a"]},data:function(){return{notification:{message:"",type:""},dialog:!1,menu:!1,headers:[{text:"Имя",align:"start",sortable:!0,value:"name"},{text:"Email",value:"email",sortable:!1},{text:"Телефон",value:"phone",sortable:!1},{text:"Дата рождения",type:"date",dateInputFormat:"yyyy-MM-dd'T'HH:mm:ss.SSSZ",dateOutputFormat:"MMM do yy",value:"date_of_birth"},{text:"Действия",value:"actions",sortable:!1}],clients:[],editedIndex:-1,editedItem:{name:null,phone:"",email:"",date_of_birth:null,date:null,dateFormatted:null},defaultItem:{name:null,phone:"0",email:"",date_of_birth:null,date:null,dateFormatted:null}}},computed:{formTitle:function(){return-1===this.editedIndex?"Новая запись":"Изменить запись"},currentUser:function(){return this.$store.state.auth.user},allClients:function(){return this.$store.state.client.client}},watch:{dialog:function(e){e||this.close()},editedItem:{deep:!0,handler:function(){this.$refs.form&&this.$refs.form.validate()}}},created:function(){this.initialize()},methods:{initialize:function(){var e=this;this.getAllRecords((function(){e.clients=e.allClients}))},parseDate:function(e){if(!e)return null;var t=e.split("-"),a=Object($["a"])(t,3),i=a[0],n=a[1],r=a[2];return this.editedItem.date_of_birth="".concat(r.padStart(2,"0"),"/").concat(n.padStart(2,"0"),"/").concat(i),"".concat(r.padStart(2,"0"),"/").concat(n.padStart(2,"0"),"/").concat(i)},customSort:function(e,t,a){var i=this;return e.sort((function(e,n){return"date_of_birth"==t[0]?a[0]?i.$date(e[t],"DD/MM/YYYY").toDate()-i.$date(n[t],"DD/MM/YYYY").toDate():i.$date(n[t],"DD/MM/YYYY").toDate()-i.$date(e[t],"DD/MM/YYYY").toDate():"undefined"!==typeof e[t]?a[0]?n[t].toLowerCase().localeCompare(e[t].toLowerCase()):e[t].toLowerCase().localeCompare(n[t].toLowerCase()):void 0})),e},getAllRecords:function(e){var t=this;this.$store.dispatch("client/getAllRecords").then((function(t){e()}),(function(e){var a={message:e.response.data.message,type:e.response.data.status};t.notification=Object.assign({},t.notification,{message:a.message,type:a.type})}))},editItem:function(e){this.editedIndex=this.clients.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0;var t=this.editedItem.date_of_birth.split("/"),a=Object($["a"])(t,3),i=a[0],n=a[1],r=a[2];this.editedItem.date="".concat(r,"-").concat(n,"-").concat(i),this.editedItem.dateFormatted=this.parseDate(this.editedItem.date)},deleteItem:function(e){var t=this,a=this.clients.indexOf(e),i={indexDB:e.id,indexState:a};confirm("Вы точно желаете удалить эту запись?")&&this.$store.dispatch("client/deleteClient",i).then((function(e){t.initialize()}),(function(e){var a={message:e.response.data.message,type:e.response.data.status};t.notification=Object.assign({},t.notification,{message:a.message,type:a.type})}))},save:function(){var e=this;if(this.editedIndex>-1){var t={indexDB:this.editedItem.id,indexState:this.editedIndex},a={indexes:t,clientInfo:this.editedItem};confirm("Указанные данные введены корректно?")&&this.$store.dispatch("client/updateClientInfo",a).then((function(t){e.initialize()}),(function(t){var a={message:t.response.data.message,type:t.response.data.status};e.notification=Object.assign({},e.notification,{message:a.message,type:a.type})}))}else{var i={name:this.editedItem.name,email:this.editedItem.email,phone:this.editedItem.phone,date_of_birth:this.editedItem.date};confirm("Указанные данные введены корректно?")&&this.$store.dispatch("client/createNewClient",i).then((function(t){e.notification=Object.assign({},e.notification,{message:t.message,type:t.status}),e.initialize()}),(function(t){var a={message:t.response.data.message,type:t.response.data.status};e.notification=Object.assign({},e.notification,{message:a.message,type:a.type})}))}this.close()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))}}},Be=ze,Ee=a("2e4b"),Ue=a("e449"),Je=Object(m["a"])(Be,Le,Fe,!1,null,null,null),He=Je.exports;v()(Je,{VBtn:K["a"],VCard:Q["a"],VCardActions:W["a"],VCardText:W["b"],VCardTitle:W["c"],VCol:X["a"],VContainer:ee["a"],VDataTable:Ae["a"],VDatePicker:Ee["a"],VDialog:Te["a"],VDivider:de["a"],VForm:ue["a"],VIcon:b["a"],VMenu:Ue["a"],VRow:te["a"],VSpacer:w["a"],VTextField:me["a"],VToolbar:fe["a"],VToolbarTitle:ve["a"]});var Ze=a("2f62"),Ge=a("0e44"),Ke=a("bee2");function Qe(){var e=JSON.parse(localStorage.getItem("vuex"));return e.auth&&e.auth.user.data.token?{Authorization:"Bearer ".concat(e.auth.user.data.token)}:{}}var We="http://193.176.78.186/api/",Xe=function(){function e(){Object(se["a"])(this,e)}return Object(Ke["a"])(e,[{key:"register",value:function(e){return r.a.post(We+"register",{username:e.username,email:e.email,password:e.password})}},{key:"login",value:function(e){return r.a.post(We+"login",{email:e.email,password:e.password}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"getUserData",value:function(){return r.a.get(We+"account/me",{headers:Qe()}).then((function(e){return e.data,e.data.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}}]),e}(),et=new Xe,tt=JSON.parse(localStorage.getItem("user")),at=tt?{status:{loggedIn:!0},user:tt,userData:userData}:{status:{loggedIn:!1},user:tt,userData:null},it={namespaced:!0,state:at,actions:{register:function(e,t){var a=e.commit;return et.register(t).then((function(e){return a("registerSuccess"),Promise.resolve(e.data)}),(function(e){return a("registerFailure"),Promise.reject(e)}))},login:function(e,t){var a=e.commit;return et.login(t).then((function(e){return a("loginSuccess",e),Promise.resolve(e)}),(function(e){return a("loginFailure"),Promise.reject(e)}))},logout:function(e){var t=e.commit;et.logout(),t("logout")},getUserData:function(e){var t=e.commit;et.getUserData().then((function(e){return t("setUserData",e),Promise.resolve(e)}))}},mutations:{registerSuccess:function(e){e.status.loggedIn=!1},registerFailure:function(e){e.status.loggedIn=!1},loginSuccess:function(e,t){e.status.loggedIn=!0,e.user=t},loginFailure:function(e){e.status.loggedIn=!1,e.user=e.userData=null},logout:function(e){e.status.loggedIn=!1,e.user=e.userData=null},setUserData:function(e,t){e.userData=t}}},nt=(a("a434"),"http://193.176.78.186/api/"),rt=function(){function e(){Object(se["a"])(this,e)}return Object(Ke["a"])(e,[{key:"getAll",value:function(){return r.a.get(nt+"reminders/get_all_reminders",{headers:Qe()}).then((function(e){return e.data,e}))}},{key:"deleteReminder",value:function(e){return r.a.delete("".concat(nt,"reminders/delete_reminder/").concat(e),{headers:Qe(),params:{id:e}}).then((function(e){return e.data,e.data}))}},{key:"updateReminderInfo",value:function(e){return r.a.put("".concat(nt,"reminders/update_reminder_info/").concat(e.indexes.indexDB),{data:e.remindInfo},{headers:Qe()}).then((function(e){return e.data,e.data}))}},{key:"createNewRemind",value:function(e){return r.a.post("".concat(nt,"reminders/create_new_remind"),{data:e},{headers:Qe()}).then((function(e){return e.data,e}))}}]),e}(),st=new rt,ot={},ct={namespaced:!0,state:ot,actions:{getAllRecords:function(e){var t=e.commit;st.getAll().then((function(e){return t("setAllRecords",e),Promise.resolve(e.data)}))},deleteReminder:function(e,t){var a=e.commit;return st.deleteReminder(t.indexDB).then((function(e){return a("deleteReminder",t.indexState),Promise.resolve(e)}))},updateReminderInfo:function(e,t){var a=e.commit;return st.updateReminderInfo(t).then((function(e){return a("updateReminderInfo",t),Promise.resolve(e)}))},createNewRemind:function(e,t){var a=e.commit;return st.createNewRemind(t).then((function(e){return a("createNewRemind",t),Promise.resolve(e.data)}),(function(e){return Promise.reject(e)}))}},mutations:{setAllRecords:function(e,t){e.reminder=t.data.reminders},deleteReminder:function(e,t){e.reminder.splice(t,1)},updateReminderInfo:function(e,t){var a={id:t.remindInfo.id,client_id:t.remindInfo.client_id,description:t.remindInfo.description,date_of_remind:t.remindInfo.date_of_remind_state,date_of_birth:t.remindInfo.date_of_birth,email:t.remindInfo.email,phone:t.remindInfo.phone,name:t.remindInfo.name};Object.assign(e.reminder[t.indexes.indexState],a)},createNewRemind:function(e,t){var a=t.date_of_remind.split("-"),i=Object($["a"])(a,3),n=i[0],r=i[1],s=i[2];t.date_of_remind="".concat(s.padStart(2,"0"),"/").concat(r.padStart(2,"0"),"/").concat(n),e.reminder.push(t)}}},lt="http://193.176.78.186/api/",dt=function(){function e(){Object(se["a"])(this,e)}return Object(Ke["a"])(e,[{key:"getAll",value:function(){return r.a.get(lt+"clients/get_all_clients",{headers:Qe()}).then((function(e){return e.data,e}))}},{key:"deleteClient",value:function(e){return r.a.delete("".concat(lt,"clients/delete_client/").concat(e),{headers:Qe(),params:{id:e}}).then((function(e){return e.data,e}))}},{key:"updateClientInfo",value:function(e){return r.a.put("".concat(lt,"clients/update_client_info/").concat(e.indexes.indexDB),{data:e.clientInfo},{headers:Qe()}).then((function(e){return e.data,e}))}},{key:"createNewClient",value:function(e){return r.a.post("".concat(lt,"clients/create_new_client"),{data:e},{headers:Qe()}).then((function(e){return e.data,e}))}}]),e}(),ut=new dt,mt={},ft={namespaced:!0,state:mt,actions:{getAllRecords:function(e){var t=e.commit;return ut.getAll().then((function(e){return t("setAllRecords",e),Promise.resolve(e.data)}))},deleteClient:function(e,t){var a=e.commit;return ut.deleteClient(t.indexDB).then((function(e){return a("deleteClient",t.indexState),Promise.resolve(e)}))},updateClientInfo:function(e,t){var a=e.commit;return ut.updateClientInfo(t).then((function(e){return a("updateClientInfo",t),Promise.resolve(e)}))},createNewClient:function(e,t){var a=e.commit;return ut.createNewClient(t).then((function(e){return a("createNewClient",t),Promise.resolve(e.data)}),(function(e){return Promise.reject(e)}))}},mutations:{setAllRecords:function(e,t){e.client=t.data.clients},deleteClient:function(e,t){e.client.splice(t,1)},updateClientInfo:function(e,t){Object.assign(e.client[t.indexes.indexState],t.clientInfo)},createNewClient:function(e,t){var a=t.date_of_birth.split("-"),i=Object($["a"])(a,3),n=i[0],r=i[1],s=i[2];t.date_of_birth="".concat(s.padStart(2,"0"),"/").concat(r.padStart(2,"0"),"/").concat(n)}}};i["a"].use(Ze["a"]);var vt=new Ze["a"].Store({modules:{auth:it,reminder:ct,client:ft},plugins:[Object(Ge["a"])()]});i["a"].use(j["a"]);var pt=[{path:"/",name:"Home",component:ie,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:he,meta:{requiresAuth:!1}},{path:"/register",name:"Register",component:Ve,meta:{requiresAuth:!1}},{path:"/profile",name:"Profile",component:Se,meta:{requiresAuth:!0}},{path:"/reminder",name:"Reminder",component:Ne,meta:{requiresAuth:!0}},{path:"/client",name:"Client",component:He,meta:{requiresAuth:!0}}],ht=new j["a"]({mode:"history",base:"/",routes:pt});ht.beforeEach((function(e,t,a){e.matched.some((function(e){return e.meta.requiresAuth}))?vt.state.auth.status.loggedIn?a():a({name:"Login"}):a()}));var gt=ht,bt=a("f309");i["a"].use(bt["a"]);var _t=new bt["a"]({});i["a"].config.productionTip=!1,window.axios=axios,axios.defaults.baseURL="http://127.0.0.1:3333",i["a"].component("ValidationProvider",P["b"]),new i["a"]({router:gt,store:vt,vuetify:_t,render:function(e){return e(O)}}).$mount("#app")}});
//# sourceMappingURL=app.d9fc0a4d.js.map